<div *ngIf="!this.loaded" class="overlay"></div>
<div [class]="this.loaded ? 'content' : 'content no-scroll'">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">Profile</h4>
          </div>
          <div class="card-body">
            <form>
              <div class="form-row">
                <div class="col">
                  <div class="form-group">
                    <label>First Name</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'First' : ''" [value]="this.loaded ? this.userData.firstName : ''">
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <label class="req-label-text">Last Name</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Last' : ''" [value]="this.loaded ? this.userData.lastName : ''">
                  </div>
                </div>
              </div>
              <div class="form-row">
                <div class="col-sm">
                  <div class="form-group">
                    <label>Email</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Email' : ''" [value]="this.loaded ? this.authService.userEmail : ''">
                  </div>
                </div>
                <div class="col-sm">
                  <div class="form-group">
                    <label>Phone</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Phone' : ''" [value]="this.loaded ? this.userData.phone : ''">
                  </div>
                </div>
              </div>
              <div class="form-row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label>Date of Birth</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'D.O.B' : ''" [value]="this.loaded ? formatDate() : ''">
                  </div>
                </div>
              </div>
              <div class="form-row">
                <div class="col-sm">
                  <div class="form-group">
                    <label>Gender</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Gender' : ''" [value]="this.loaded ? this.userData.gender : ''">
                  </div>
                </div>
                <div class="col-sm">
                  <div class="form-group">
                    <label>Race/Ethnicity</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Ethnicity' : ''" [value]="this.loaded ? this.arrayAsString(this.userData.ethnicity) : ''">
                  </div>
                </div>
              </div>
              <div class="form-row">
                <div class="col-sm">
                  <div class="form-group">
                    <label>School</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'School' : ''" [value]="this.loaded ? this.userData.school : ''">
                  </div>
                </div>
                <div *ngIf="userData.schoolNotInList" class="col-sm align-sm-to-text">
                  We will contact you by email to confirm your school
                </div>
              </div>
              <div class="form-row">
                <div class="col-sm">
                  <div class="form-group">
                    <label>Level Of Study</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Level of Study' : ''" [value]="this.loaded ? this.userData.studyLevel : ''">
                  </div>
                </div>
                <div class="col-sm">
                  <div class="form-group">
                    <label>Expected Graduation Year</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Graduation Year' : ''" [value]="this.loaded ? this.userData.graduationYear : ''">
                  </div>
                </div>
              </div>
              <div class="form-row">
                <div class="col-md">
                  <div class="form-group">
                    <label>Github Profile</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <div class="input-group">
                      <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Github Link' : ''" [value]="this.loaded ? this.userData.githubLink ? this.userData.githubLink : 'None' : ''">
                      <a *ngIf="this.userData.githubLink" [href]="this.userData.githubLink" target="_blank">
                        <div class="input-group-append">
                          <span class="input-group-text" id="basic-addon2"><fa-icon class='ng-fa-icon' [icon]="['fas', 'external-link-alt']"></fa-icon></span>
                        </div>
                      </a>
                    </div>
                  </div>
                </div>
                <div class="col-md">
                  <div *ngIf="this.userData.hasResume" class="form-group">
                    <label>View Resume</label>
                    <fa-icon data-toggle="modal" data-target="#changeResumeModal" id="resume-icon" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <fa-icon data-toggle="modal" data-target="#delete-resume-modal" id="delete-resume-icon" class='ng-fa-icon right-icon mouse-hover' style="color:red" [icon]="['fas', 'times']"></fa-icon>
                    <div class="input-group">
                      <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Resume Link' : ''" [value]="this.loaded ? (this.resumeLink | async) : ''">
                      <a [href]="this.resumeLink | async" target="_blank">
                        <div class="input-group-append">
                          <span class="input-group-text" id="basic-addon2"><fa-icon class='ng-fa-icon' [icon]="['fas', 'external-link-alt']"></fa-icon></span>
                        </div>
                      </a>
                    </div>
                  </div>
                  <div *ngIf="!this.userData.hasResume" data-toggle="modal" data-target="#changeResumeModal" class="align-md-to-text d-flex justify-content-center">
                    <button type="button" class="btn btn-outline-primary">Add Resume</button>
                  </div>
                </div>
              </div>

              <div class="modal fade" tabindex="-1" role="dialog" id="changeResumeModal">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title">{{this.resumeModal.uploading ? "Uploading Resume..." : this.userData.hasResume ? "Update Resume" : "Upload Resume"}}</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <form>
                        <div class="form-row">
                          <div class="col-md">
                            <div class="form-group">
                              <label>Please upload your resume</label>
                              <input type="file" class="form-control-file" (change)="this.resumeModal.file=$event.target.files[0]">
                            </div>
                          </div>
                          <div class="col-md">
                            <div *ngIf="this.userData.hasResume && !this.resumeModal.uploading" class="form-group">
                              <label>Old Resume</label>
                              <div class="input-group">
                                <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Resume Link' : ''" [value]="this.loaded ? (this.resumeLink | async) : ''">
                                <a [href]="this.resumeLink | async" target="_blank">
                                  <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2"><fa-icon class='ng-fa-icon' [icon]="['fas', 'external-link-alt']"></fa-icon></span>
                                  </div>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div *ngIf="this.resumeModal.attemptSubmit && !this.resumeModal.file" class="alert alert-danger">
                          Please pick a file
                        </div>
                      </form>
                      <div *ngIf="this.resumeModal.uploading" class="progress">
                        <div class="progress-bar progress-bar progress-bar-striped" role="progressbar" [style.width]="this.resumeModal.uploadPercentage+'%'"></div>
                      </div>
                    </div>
                    <div *ngIf="!this.resumeModal.uploading" class="modal-footer">
                      <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary" (click)="this.resumeModal.saveChanges(this)">Save changes</button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="modal fade" id="delete-resume-modal" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Delete Resume</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <p>Do you want to delete your resume? If you do, your resume will not be sent to companies which look for ambitious tech people like you!</p>
                      <p>This action is not reversable. To confirm, please type your email address below</p>
                      <form>
                        <div class="form-row">
                          <div class="col">
                            <div class="form-group">
                              <label>Email</label>
                              <input type="email" class="form-control" placeholder="Email Address" id="inputFirstName" [(ngModel)]="inputEmailConfirm" name="inputFirstName" #emailConfirm="ngModel">
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                      <button type="button" [disabled]="inputEmailConfirm==this.authService.userEmail ? '' : 'disabled'" (click)="deleteResume()" class="btn btn-danger">Delete</button>
                    </div>
                  </div>
                </div>
              </div>

              <hr class="seperator">
              <div class="form-row">
                <div class="col-sm">
                  <div class="form-group">
                    <label>T-Shirt Size</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Shirt Size' : ''" [value]="this.loaded ? toFullSizeWord(this.userData.shirtSize) : ''">
                  </div>
                </div>
                <div class="col-sm">
                  <div class="form-group">
                    <label>Dietary Restrictions</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Restriction' : ''" [value]="this.loaded ? this.arrayAsString(this.userData.dietaryRestrictions) : ''">
                  </div>
                </div>
              </div>
              <div *ngIf="this.userData.hardware || this.userData.hardwareOther" class="form-row">
                <div class="col-sm">
                  <div class="form-group">
                    <label>Listed Hardware:</label>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Hardware' : ''" [value]="this.loaded ? arrayAsString(this.userData.hardware) : ''">
                  </div>
                </div>
                <div class="col-sm">
                  <div class="form-group">
                    <label>Extra Hardware:</label>
                    <input type="text" class="form-control" disabled [placeholder]="this.loaded ? 'Other Hardware' : 'None'" [value]="this.loaded ? this.userData.hardwareOther : ''">
                  </div>
                </div>
                <div class="alert alert-info">
                  Hardware is for estimation purposes, if you really need a piece of hardware and you didn't put it in your registration, email us at team@hackphs.tech with subject "hardware"
                </div>
              </div>
              <div class="form-row">
                <div class="col-sm">
                  <div class="form-group">
                    <label>Special Accomdations</label>
                    <fa-icon (click)="edit($event)" class='ng-fa-icon right-icon mouse-hover' [icon]="['fas', 'pen']"></fa-icon>
                    <textarea disabled [placeholder]="this.loaded ? 'None' : ''" [value]="this.loaded ? this.userData.specialAccomadations : ''" class="form-control" rows="3"></textarea>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
